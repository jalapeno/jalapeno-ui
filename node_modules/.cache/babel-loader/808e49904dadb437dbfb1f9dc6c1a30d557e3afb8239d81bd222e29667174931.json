{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar d3v3 = require(\"./d3v3adaptor\");\nvar d3v4 = require(\"./d3v4adaptor\");\n;\nfunction d3adaptor(d3Context) {\n  if (!d3Context || isD3V3(d3Context)) {\n    return new d3v3.D3StyleLayoutAdaptor();\n  }\n  return new d3v4.D3StyleLayoutAdaptor(d3Context);\n}\nexports.d3adaptor = d3adaptor;\nfunction isD3V3(d3Context) {\n  var v3exp = /^3\\./;\n  return d3Context.version && d3Context.version.match(v3exp) !== null;\n}","map":{"version":3,"names":["d3v3","require","d3v4","d3adaptor","d3Context","isD3V3","D3StyleLayoutAdaptor","exports","v3exp","version","match"],"sources":["/Users/brucemcdougall/go/jalapeno-github/jalapeno-ui/node_modules/webcola/WebCola/src/d3adaptor.ts"],"sourcesContent":["import * as d3v3 from './d3v3adaptor'\r\nimport * as d3v4 from './d3v4adaptor'\r\nimport { Layout, EventType, Event } from './layout';\r\n\r\nexport interface D3v3Context { version:string };\r\n\r\nexport interface ID3StyleLayoutAdaptor {\r\n    trigger(e: Event): void;\r\n    kick(): void;\r\n    drag: () => any;\r\n\r\n    on(eventType: EventType | string, listener: () => void): ID3StyleLayoutAdaptor;\r\n}\r\n\r\n\r\n/**\r\n * provides an interface for use with d3:\r\n * Correct way to create way to construct the d3 cola object is to pass the d3 object into the adaptor function, like so:\r\n * \r\n *   `var d3cola = cola.d3adaptor(d3);`\r\n * \r\n * Internally, it will figure out if d3 is version 3 or 4 from the version tag and set up the right event forwarding. Defaults to version 3 if the d3 object is not passed.\r\n * - uses the d3 event system to dispatch layout events such as:\r\n *   o \"start\" (start layout process)\r\n *   o \"tick\" (after each layout iteration)\r\n *   o \"end\" (layout converged and complete).\r\n * - uses the d3 timer to queue layout iterations.\r\n * - sets up d3.behavior.drag to drag nodes\r\n *   o use `node.call(<the returned instance of Layout>.drag)` to make nodes draggable\r\n * returns an instance of the cola.Layout itself with which the user\r\n * can interact directly.\r\n */\r\nexport function d3adaptor(d3Context?: d3v4.D3Context | D3v3Context): Layout & ID3StyleLayoutAdaptor {\r\n    if (!d3Context || isD3V3(d3Context)) {\r\n        return new d3v3.D3StyleLayoutAdaptor();\r\n    }\r\n    return new d3v4.D3StyleLayoutAdaptor(d3Context);\r\n}\r\n\r\nfunction isD3V3(d3Context: d3v4.D3Context | D3v3Context): d3Context is D3v3Context {\r\n    const v3exp = /^3\\./;\r\n    return (<any>d3Context).version && (<any>d3Context).version.match(v3exp) !== null;\r\n}\r\n"],"mappings":";;;;;AAAA,IAAAA,IAAA,GAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AAG+C;AA4B/C,SAAgBE,SAASA,CAACC,SAAwC;EAC9D,IAAI,CAACA,SAAS,IAAIC,MAAM,CAACD,SAAS,CAAC,EAAE;IACjC,OAAO,IAAIJ,IAAI,CAACM,oBAAoB,EAAE;;EAE1C,OAAO,IAAIJ,IAAI,CAACI,oBAAoB,CAACF,SAAS,CAAC;AACnD;AALAG,OAAA,CAAAJ,SAAA,GAAAA,SAAA;AAOA,SAASE,MAAMA,CAACD,SAAuC;EACnD,IAAMI,KAAK,GAAG,MAAM;EACpB,OAAaJ,SAAU,CAACK,OAAO,IAAUL,SAAU,CAACK,OAAO,CAACC,KAAK,CAACF,KAAK,CAAC,KAAK,IAAI;AACrF","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}